/* public/assets/admin/css/billing-statements.css */
/* Vault-ish, limpio, responsive, dark-friendly (v1) */

:root{
  /* ==========================================================
     P360 tokens (default = CLARO)
     - toma colores del layout global si existen
     ========================================================== */
  --sx-ink: var(--text, #0f172a);
  --sx-mut: var(--muted, #64748b);

  --sx-card: var(--card-bg, #ffffff);
  --sx-bg: color-mix(in oklab, var(--sx-card) 90%, #f6f7fb);

  --sx-stroke: color-mix(in oklab, var(--sx-ink) 12%, transparent);
  --sx-soft:   color-mix(in oklab, var(--sx-ink) 6%, transparent);
  --sx-soft2:  color-mix(in oklab, var(--sx-ink) 4%, transparent);

  --sx-text: var(--sx-ink);

  --sx-ok:   rgba(34,197,94,.14);
  --sx-warn: rgba(245,158,11,.14);
  --sx-bad:  rgba(239,68,68,.14);

  --sx-ok-t:   #16a34a;
  --sx-warn-t: #d97706;
  --sx-bad-t:  #dc2626;

  --sx-radius: 18px;
  --sx-shadow: var(--shadow-1, 0 10px 30px rgba(15,23,42,.08));
}

/* ==========================================================
   DARK overrides (detecta varios toggles comunes)
   - si tu layout usa otra clase/atributo, lo agregamos aquí
   ========================================================== */
body.theme-dark,
html.theme-dark,
body.dark,
html.dark,
body[data-theme="dark"],
html[data-theme="dark"]{
  --sx-ink: #e5e7eb;
  --sx-mut: rgba(226,232,240,.72);

  --sx-card: #0f172a;
  --sx-bg: #0b1220;

  --sx-stroke: rgba(148,163,184,.18);
  --sx-soft: rgba(148,163,184,.12);
  --sx-soft2: rgba(148,163,184,.08);

  --sx-text: #e5e7eb;

  --sx-shadow: 0 14px 40px rgba(0,0,0,.25);

  --sx-ok: rgba(34,197,94,.18);
  --sx-warn: rgba(245,158,11,.18);
  --sx-bad: rgba(239,68,68,.18);

  --sx-ok-t: #22c55e;
  --sx-warn-t:#f59e0b;
  --sx-bad-t:#ef4444;
}


/* light mode fallback si tu layout usa body.theme-light */
body.theme-light{
  --sx-bg:#f6f7fb;
  --sx-card:#ffffff;
  --sx-stroke: rgba(15,23,42,.12);
  --sx-text:#0f172a;
  --sx-mut: rgba(15,23,42,.60);
  --sx-soft: rgba(15,23,42,.06);
  --sx-soft2: rgba(15,23,42,.035);
  --sx-shadow: 0 10px 30px rgba(15,23,42,.08);
}

.sx-wrap{ padding: 18px; background: var(--sx-bg); }

.sx-card{
  background: var(--sx-card);
  border: 1px solid var(--sx-stroke);
  border-radius: var(--sx-radius);
  box-shadow: var(--sx-shadow);
  overflow: hidden;
}

.sx-head{
  padding: 18px 18px 10px;
  display:flex; align-items:flex-start; justify-content:space-between; gap:14px;
  border-bottom: 1px solid var(--sx-stroke);
  background: linear-gradient(180deg, var(--sx-soft), transparent);
}
.sx-title{ margin:0; font: 800 20px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial; color: var(--sx-text); }
.sx-sub{ margin-top:6px; color: var(--sx-mut); font: 500 12px/1.4 system-ui; }
.sx-head-actions{ display:flex; gap:10px; flex-wrap:wrap; }

.sx-mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
.sx-right{ text-align:right; }

.sx-kpis{
  padding: 14px 18px;
  display:grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap:12px;
  border-bottom: 1px solid var(--sx-stroke);
}
.sx-kpi{
  background: var(--sx-soft2);
  border: 1px solid var(--sx-stroke);
  border-radius: 14px;
  padding: 12px;
}
.sx-k{ color: var(--sx-mut); font: 700 12px/1.2 system-ui; }
.sx-v{ margin-top:6px; color: var(--sx-text); font: 900 18px/1.2 system-ui; }
.sx-mini{ margin-top:6px; color: var(--sx-mut); font: 600 11px/1.3 system-ui; }

.sx-filters{ padding: 14px 18px; border-bottom: 1px solid var(--sx-stroke); }
.sx-grid{
  display:grid;
  grid-template-columns: 2fr 1fr 1fr 1fr 140px 140px;
  gap:10px;
  align-items:end;
}
.sx-ctl label{ display:block; margin-bottom:6px; color: var(--sx-mut); font: 700 11px/1.2 system-ui; }
.sx-in, .sx-sel{
  width:100%;
  background: transparent;
  border: 1px solid var(--sx-stroke);
  color: var(--sx-text);
  border-radius: 12px;
  padding: 10px 10px;
  outline:none;
}
.sx-in::placeholder{ color: rgba(148,163,184,.65); }

.sx-chips{
  margin-top: 12px;
  display:flex; gap:8px; flex-wrap:wrap; align-items:center;
}
.sx-chip{
  display:inline-flex; align-items:center; gap:8px;
  padding: 8px 10px;
  border-radius: 999px;
  border:1px solid var(--sx-stroke);
  background: var(--sx-soft2);
  color: var(--sx-text);
  font: 800 12px/1 system-ui;
  text-decoration:none;
}
.sx-chip .dot{ width:8px; height:8px; border-radius:999px; background: rgba(148,163,184,.75); }
.sx-chip.on{ background: var(--sx-soft); }
.sx-meta{ margin-left:auto; color: var(--sx-mut); font: 700 12px/1 system-ui; }

.sx-body{ padding: 14px 18px 18px; }
.sx-panel{
  border: 1px solid var(--sx-stroke);
  border-radius: 16px;
  overflow:hidden;
  background: color-mix(in oklab, var(--sx-card) 94%, transparent);
}

.sx-table-wrap{ overflow:auto; }
.sx-table{
  width:100%;
  border-collapse: collapse;
  min-width: 920px;
}
.sx-table thead th{
  position: sticky; top:0;
  background: var(--sx-card);
  border-bottom: 1px solid var(--sx-stroke);
  color: var(--sx-mut);
  font: 900 12px/1 system-ui;
  padding: 12px 10px;
  text-align:left;
}
.sx-table td{
  border-bottom: 1px solid var(--sx-stroke);
  color: var(--sx-text);
  padding: 12px 10px;
  vertical-align: top;
  font: 600 13px/1.25 system-ui;
}
.sx-table tr:hover td{ background: rgba(148,163,184,.06); }
.sx-selcol{ width:38px; }
.sx-name{ font: 900 13px/1.2 system-ui; }

.sx-actions{ display:flex; justify-content:flex-end; gap:8px; flex-wrap:wrap; }

.sx-btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding: 9px 12px;
  border-radius: 12px;
  border: 1px solid var(--sx-stroke);
  background: transparent;
  color: var(--sx-text);
  font: 900 12px/1 system-ui;
  text-decoration:none;
}
.sx-btn:hover{ background: var(--sx-soft); }
.sx-btn-primary{
  background: rgba(99,102,241,.22);
  border-color: rgba(99,102,241,.32);
}
.sx-btn-soft{
  background: var(--sx-soft2);
}

.sx-pill{
  display:inline-flex; align-items:center; gap:8px;
  border-radius: 999px;
  padding: 7px 10px;
  border:1px solid var(--sx-stroke);
  font: 900 12px/1 system-ui;
}
.sx-pill .dot{ width:8px; height:8px; border-radius:999px; background: rgba(148,163,184,.75); }
.sx-ok{ background: var(--sx-ok); color: var(--sx-ok-t); border-color: rgba(34,197,94,.35); }
.sx-warn{ background: var(--sx-warn); color: var(--sx-warn-t); border-color: rgba(245,158,11,.35); }
.sx-bad{ background: var(--sx-bad); color: var(--sx-bad-t); border-color: rgba(239,68,68,.35); }
.sx-dim{ background: var(--sx-soft2); color: var(--sx-text); }

.sx-empty{ padding: 18px !important; color: var(--sx-mut) !important; }

.sx-paginate{
  padding: 12px 12px;
  background: var(--sx-card);
}

/* responsive */
@media (max-width: 1200px){
  .sx-grid{ grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr; }
}
@media (max-width: 900px){
  .sx-kpis{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .sx-grid{ grid-template-columns: 1fr 1fr; }
}

/* ===== Missing classes used by Blade (compat layer) ===== */

.p360-page{ padding:0 !important; }

.sx-ellipsis{
  max-width: 520px;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  display:block;
}

.sx-subrow{
  margin-top:6px;
  color: var(--sx-mut);
  font: 600 12px/1.35 system-ui;
}

.sx-actionsBox{
  width: 320px;
  border: 1px solid var(--sx-stroke);
  background: var(--sx-soft2);
  border-radius: 16px;
  padding: 10px;
}

.sx-rowctl{
  display:grid;
  grid-template-columns: 1fr;
  gap:8px;
}

.sx-save{
  width:100%;
}

@media(max-width:1100px){
  .sx-actionsBox{ width: 280px; }
}

/* ===== Toast ===== */
.sx-toast{
  position:fixed;
  right:18px;
  bottom:18px;
  z-index:9999;
  background:#111827;
  color:#fff;
  border:1px solid rgba(255,255,255,.14);
  padding:10px 12px;
  border-radius:14px;
  font-weight:900;
  display:none;
  max-width: 420px;
}
.sx-toast.on{ display:block; }

/* ===== PDF Preview Modal ===== */
.sx-modal{
  position:fixed;
  inset:0;
  background: rgba(15,23,42,.55);
  display:none;
  align-items:center;
  justify-content:center;
  padding:18px;
  z-index:10000;
  backdrop-filter: blur(6px);
}
.sx-modal.on{ display:flex; }

.sx-modal-card{
  width:min(1180px, 98vw);
  height:min(760px, 92vh);
  background: var(--sx-card);
  border: 1px solid var(--sx-stroke);
  border-radius: 18px;
  box-shadow: 0 30px 70px rgba(0,0,0,.40);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

.sx-modal-head{
  padding:12px 14px;
  border-bottom:1px solid var(--sx-stroke);
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
  background: linear-gradient(180deg, var(--sx-soft), transparent);
}

.sx-modal-title{
  margin:0;
  color: var(--sx-text);
  font: 900 13px/1.2 system-ui;
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}
.sx-modal-sub{
  color: var(--sx-mut);
  font: 700 12px/1.2 system-ui;
}

.sx-modal-actions{
  display:flex;
  gap:8px;
  align-items:center;
  flex-wrap:wrap;
}

.sx-modal-body{
  flex:1;
  background: #0b1220;
}
.sx-modal-iframe{
  width:100%;
  height:100%;
  border:0;
  background:#fff;
}

body.sx-modal-open{ overflow:hidden !important; }

/* ===== Acciones: botones en 1 sola línea ===== */
.sx-actionsRow{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:8px;

  flex-wrap:nowrap;              /* ✅ NO saltos de línea */
  overflow-x:auto;               /* ✅ si no caben, scroll horizontal */
  -webkit-overflow-scrolling: touch;
  padding-bottom:2px;            /* evita que corte el scroll */
}

.sx-actionsRow .sx-btn{
  flex:0 0 auto;                 /* ✅ no se aplastan */
  white-space:nowrap;
}

.sx-actionsRow form{
  display:inline-flex;           /* ✅ el form no baja “Enviar” */
  margin:0;
  flex:0 0 auto;
}

.sx-actionsRow .sx-btn{
  padding:6px 10px;
  font-size:12px;
  border-radius:999px;
}

/* ===== Acciones (fila de botones) más compacta para que quepan ===== */
.sx-actionsRow{
  gap:6px;                 /* antes 8px */
  overflow:visible;        /* para que no recorte visualmente */
}

/* Botones compactos SOLO en la fila de acciones */
.sx-actionsRow .sx-btn{
  font-size:11px;          /* ✅ letra más chica */
  padding:6px 8px;         /* ✅ menos padding */
  border-radius:999px;
  line-height:1;
}

/* Si tu .sx-btn global trae min-height, lo neutralizamos aquí */
.sx-actionsRow .sx-btn{
  min-height:auto;
}

/* El form de Enviar no debe recortar */
.sx-actionsRow form{
  display:inline-flex;
  margin:0;
}

.sx-actionsRow .sx-btn{
  letter-spacing:-0.01em;
}

/* C:\wamp64\www\pactopia360_erp\public\assets\admin\css\base.css */
/* ===== P360 · Admin · BASE (v2.2 · Layout-safe) =====
   FIXES:
   - reset real (body margin/padding = 0) para header/sidebar a borde
   - .admin-content SIEMPRE respeta --sidebar-offset (no overlap)
   - un solo scroll en .admin-content
*/

:root{
  --header-h:56px;

  /* ✅ Sidebar widths (source of truth) */
  --sidebar-w:260px;
  --sidebar-w-collapsed:72px;

  /* ✅ Offset efectivo del layout */
  --sidebar-offset: var(--sidebar-w);

  /* colores/vars mínimas por si aún no carga el CSS del módulo */
  --text:#111827; --muted:#6b7280;
  --bg:#f6f7f9; --card-bg:#fff; --card-border:#e5e7eb;
  --shadow-1:0 6px 18px rgba(0,0,0,.12);
}

/* Tema claro/oscuro a nivel <html> */
html.theme-light, html[data-theme="light"]{
  color-scheme:light;
  --text:#111827; --muted:#6b7280;
  --bg:#f6f7f9; --card-bg:#fff; --card-border:#e5e7eb;
}
html.theme-dark, html[data-theme="dark"]{
  color-scheme:dark;
  --text:#e5e7eb; --muted:#9ca3af;
  --bg:#0e141c; --card-bg:#111827; --card-border:rgba(255,255,255,.12);
}

/* ======================================================================
   ✅ RESET CRÍTICO (esto arregla el “margen fantasma”)
   ====================================================================== */
html, body{
  height:100%;
  margin:0 !important;
  padding:0 !important;
}
*, *::before, *::after{ box-sizing:border-box; }

/* Estructura y scroll (el scroll vive en el contenido, no en body) */
body{
  overflow:hidden;
  background:var(--bg);
  color:var(--text);
}

/* Header */
#topbar, #p360-topbar{ min-height:var(--header-h) }

/* Si el sidebar está colapsado (lo pone JS en <html>) */
html.sidebar-collapsed{
  --sidebar-offset: var(--sidebar-w-collapsed);
}

/* En móvil el sidebar es overlay */
@media (max-width:1023.98px){
  html{ --sidebar-offset: 0px !important; }
}

/* Sidebar compat */
#sidebar{ height:100%; overflow:auto }

/* Nebula sidebar id real */
#nebula-sidebar{ height:calc(100vh - var(--header-h)); overflow:auto }

/* ======================================================================
   ✅ LAYOUT MAIN (ANTI-OVERLAP)
   OJO: esto ES lo que evita que el contenido se meta debajo del sidebar.
   ====================================================================== */
.admin-content{
  position:relative !important;
  margin-left: var(--sidebar-offset) !important;
  width: calc(100% - var(--sidebar-offset)) !important;
  height: calc(100vh - var(--header-h)) !important;

  overflow:auto !important;
  -webkit-overflow-scrolling:touch;

  background:var(--bg);
  display:flex;
  flex-direction:column;
  min-width:0;
}

/* Contenedor de página */
.page-container{
  padding: .75rem;
  width:100%;
  min-width:0;
}

/* Guard visual mínimo */
.page-card{
  background:var(--card-bg);
  border:1px solid var(--card-border);
  border-radius:12px;
  padding:12px;
  box-shadow:var(--shadow-1);
}

/* Evita “brincos” visuales al cambiar tema/densidad */
*{ scrollbar-gutter: stable both-edges }

/* Blindaje: no empujar .admin-app (offset lo hace .admin-content) */
.admin-app{
  padding-left: 0 !important;
}

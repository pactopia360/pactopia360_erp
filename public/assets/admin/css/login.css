:root{
  /* Brand */
  --brand-red:#e31b23;
  --brand-slate:#2d3b4c;
  --brand-charcoal:#131922;

  /* Layout */
  --radius-lg:22px;
  --radius-md:18px;
  --radius-sm:12px;

  /* Dark (default) */
  --body-bg: linear-gradient(145deg, #0b0f15 0%, #0c1119 25%, #0f1620 55%, #111a26 100%);
  --shell-bg: rgba(14,20,28,.86);
  --brand-bg:
    radial-gradient(900px 460px at -10% 0%, rgba(227,27,35,.18), transparent 62%),
    radial-gradient(900px 520px at 110% 8%, rgba(45,59,76,.20), transparent 62%),
    linear-gradient(135deg, rgba(17,24,36,.96), rgba(13,19,28,.96));
  --panel-bg: rgba(11,15,21,.80);

  --card-bg: rgba(15,22,32,.88);
  --card-border: rgba(255,255,255,.09);

  --title-color:#ffffff;
  --subtitle-color:#a9b2bf;
  --label-color:#c7ced9;
  --text-muted:#9aa3b0;

  --input-bg: rgba(12,19,28,.90);
  --input-color:#e5e7eb;
  --input-border: rgba(255,255,255,.14);
  --input-placeholder:#8e96a3;

  --focus-border: rgba(227,27,35,.92);
  --focus-ring: rgba(227,27,35,.18);

  --btn-gradient: linear-gradient(135deg, var(--brand-red), #b7131a);
  --btn-shadow: 0 16px 36px rgba(227,27,35,.28);

  --err-bg: rgba(227,27,35,.12);
  --err-border: rgba(227,27,35,.35);
  --err-color: #ffb4b9;

  /* Theme switch */
  --sw-bg: rgba(255,255,255,.10);
  --sw-border: rgba(255,255,255,.18);
  --sw-fg: rgba(255,255,255,.92);
  --sw-shadow: 0 16px 34px rgba(0,0,0,.18);
  --sw-icon-bg: rgba(255,255,255,.14);
  --sw-icon-fg: rgba(255,255,255,.92);
}

/* Light */
body.theme-light{
  background:
    radial-gradient(1200px 520px at 18% 15%, rgba(255,255,255,.35), transparent 60%),
    radial-gradient(900px 520px at 85% 80%, rgba(227,27,35,.18), transparent 65%),
    linear-gradient(160deg,#ff2a2a 0%,#e31b23 32%,#cc171d 62%,#ff4a4a 100%);
  background-size: 240% 240%;
  animation: gradientShiftLight 22s ease infinite;

  --shell-bg: rgba(255,255,255,.92);
  --brand-bg:
    radial-gradient(900px 420px at -10% 0%, rgba(227,27,35,.14), transparent 60%),
    radial-gradient(900px 520px at 110% 8%, rgba(45,59,76,.10), transparent 62%),
    linear-gradient(135deg, #ffffff, #f7f8fb);
  --panel-bg: rgba(247,248,251,.92);

  --card-bg: rgba(255,255,255,.92);
  --card-border: #e5e7eb;

  --title-color:#111827;
  --subtitle-color:#4b5563;
  --label-color:#374151;
  --text-muted:#6b7280;

  --input-bg:#ffffff;
  --input-color:#111827;
  --input-border:#d1d5db;
  --input-placeholder:#9ca3af;

  --focus-border: rgba(227,27,35,.95);
  --focus-ring: rgba(227,27,35,.16);

  --btn-gradient: linear-gradient(135deg, #ff2a2a, #d0161c);
  --btn-shadow: 0 18px 38px rgba(227,27,35,.24);

  --err-bg:#fde8e8;
  --err-border:#fecaca;
  --err-color:#991b1b;

  /* Theme switch (light) */
  --sw-bg: rgba(255,255,255,.78);
  --sw-border: rgba(17,24,39,.10);
  --sw-fg: rgba(15,23,42,.92);
  --sw-shadow: 0 16px 34px rgba(0,0,0,.10);
  --sw-icon-bg: rgba(227,27,35,.12);
  --sw-icon-fg: rgba(227,27,35,.95);
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: var(--title-color);

  background: var(--body-bg);
  background-size: 240% 240%;
  animation: gradientShift 18s ease infinite;

  display:grid;
  place-items:center;
  overflow-x:hidden;
}

/* Ambient gradients */
body::before{
  content:""; position:fixed; inset:-10%; z-index:-2; pointer-events:none;
  background:
    radial-gradient(900px 680px at -8% -10%, rgba(227,27,35,.18), transparent 62%),
    radial-gradient(900px 680px at 110% 10%, rgba(45,59,76,.18), transparent 62%),
    radial-gradient(800px 520px at 50% 120%, rgba(255,255,255,.05), transparent 70%);
  filter: saturate(1.05);
  animation: p360-pan 34s ease-in-out infinite alternate;
}
@keyframes p360-pan{
  0%{ transform: translate3d(-1.5%, -1%, 0) scale(1.02); }
  100%{ transform: translate3d(1.5%, 1%, 0) scale(1.04); }
}

/* Vignette + noise */
body::after{
  content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    radial-gradient(1200px 800px at 50% 40%, rgba(255,255,255,.10), transparent 60%),
    radial-gradient(900px 700px at 50% 120%, rgba(0,0,0,.22), transparent 55%),
    repeating-linear-gradient(0deg, rgba(255,255,255,.06) 0 1px, transparent 1px 3px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.05) 0 1px, transparent 1px 4px);
  opacity:.18;
  mix-blend-mode: overlay;
}
body.theme-light::after{
  opacity:.10;
  mix-blend-mode: multiply;
}

/* Animations */
@keyframes gradientShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
@keyframes gradientShiftLight{
  0%{background-position:0% 50%}
  25%{background-position:50% 0%}
  50%{background-position:100% 50%}
  75%{background-position:50% 100%}
  100%{background-position:0% 50%}
}

/* NoJS */
.nojs{
  padding:.75rem 1rem; background:#fee2e2; border:1px solid #fecaca; border-radius:.75rem; margin:1rem;
}

/* ✅ Theme switch — FIX visual */
.theme-switch{
  position:fixed; top:18px; right:18px; z-index:50;
}
.theme-btn{
  display:flex; align-items:center; gap:10px;
  padding:10px 12px;
  border-radius:999px;
  cursor:pointer;

  border:1px solid var(--sw-border);
  background: var(--sw-bg);
  color: var(--sw-fg);

  font-weight:900;
  font-size:13px;
  letter-spacing:.01em;

  box-shadow: var(--sw-shadow), 0 0 0 1px rgba(255,255,255,.06) inset;
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  transition: transform .08s ease, filter .18s ease, box-shadow .18s ease;
}
.theme-btn .icon{
  width:26px; height:26px; display:grid; place-items:center;
  border-radius:999px;
  background: var(--sw-icon-bg);
  color: var(--sw-icon-fg);
  box-shadow: 0 10px 20px rgba(0,0,0,.10);
  font-size:14px;
}
.theme-btn .label{ opacity:.92; }
.theme-btn:hover{ filter: brightness(1.05) saturate(1.05); box-shadow: var(--sw-shadow), 0 0 0 1px rgba(255,255,255,.10) inset; }
.theme-btn:active{ transform: translateY(1px); }
.theme-btn:focus-visible{
  outline:none;
  box-shadow: 0 0 0 4px var(--focus-ring), var(--sw-shadow), 0 0 0 1px rgba(255,255,255,.10) inset;
}

/* Shell */
.shell{
  width: min(1040px, calc(100vw - 56px));
  display:grid;
  grid-template-columns: 1.12fr .88fr;
  background: var(--shell-bg);
  border-radius: var(--radius-lg);
  overflow:hidden;
  box-shadow:
    0 30px 90px rgba(0,0,0,.30),
    0 0 0 1px rgba(255,255,255,.08) inset;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

/* Brand side */
.brand{
  background: var(--brand-bg);
  padding:46px 40px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  min-height:560px;
  position:relative;
}
.brand::before{
  content:""; position:absolute; inset:0; pointer-events:none;
  background: radial-gradient(900px 360px at 30% 8%, rgba(255,255,255,.10), transparent 60%);
  opacity:.7;
}
.logo{display:flex; align-items:center; gap:12px; margin-top:2px; position:relative}
.logo-img{height:46px; width:auto; display:block}
.logo-light{display:none}
body.theme-light .logo-dark{display:none}
body.theme-light .logo-light{display:block}
body.theme-light .logo-img{filter: drop-shadow(0 1px 1px rgba(0,0,0,.25));}

.slogan{
  margin:22px 0 0 0;
  font-weight:900;
  letter-spacing:-.02em;
  font-size:22px;
  color: var(--title-color);
}
.points{
  display:grid;
  gap:12px;
  margin-top:18px;
  color: var(--subtitle-color);
  font-size:14px;
  line-height:1.4;
}
.point b{ color: var(--title-color); }
.foot-note{font-size:12px; color:var(--text-muted); margin-top:auto; opacity:.9}

/* Right panel */
.panel{
  padding:46px 34px;
  display:flex;
  align-items:center;
  justify-content:center;
  background: var(--panel-bg);
}

/* Card */
.card{
  width:100%;
  max-width: 404px;
  background: var(--card-bg);
  border:1px solid var(--card-border);
  border-radius: var(--radius-md);
  padding:24px;
  position:relative;
  box-shadow: 0 28px 74px rgba(0,0,0,.26);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}
.card::before{
  content:"";
  position:absolute; inset:-1px;
  border-radius: calc(var(--radius-md) + 2px);
  padding:1px;
  background: linear-gradient(135deg, rgba(227,27,35,.62), rgba(255,255,255,.08));
  pointer-events:none; z-index:0;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask-composite: exclude;
}
.card::after{
  content:"";
  position:absolute; inset:0;
  border-radius: var(--radius-md);
  background: linear-gradient(180deg, rgba(255,255,255,.10), transparent 38%);
  opacity:.55;
  pointer-events:none;
}
.card > *{ position:relative; z-index:1; }

.title{
  margin:0 0 6px 0;
  font-weight:950;
  letter-spacing:-.02em;
  font-size:24px;
  color: var(--title-color);
}
.subtitle{
  margin:0 0 18px 0;
  color: var(--subtitle-color);
  font-size:13px;
  line-height:1.35;
}

/* Fields */
label{
  font-size:12px;
  color: var(--label-color);
  font-weight:900;
  letter-spacing:.01em;
}
.input{
  width:100%;
  margin-top:6px;
  margin-bottom:14px;
  padding:12px 12px;
  border:1px solid var(--input-border);
  border-radius: var(--radius-sm);
  outline:none;
  color: var(--input-color);
  background: var(--input-bg);
  transition: border .15s, box-shadow .15s, transform .06s ease, background .15s;
}
.input::placeholder{ color: var(--input-placeholder); }
.input:focus,
.input:focus-visible{
  border-color: var(--focus-border);
  box-shadow: 0 0 0 4px var(--focus-ring);
}
.input:active{ transform: translateY(.5px); }
.input:-webkit-autofill{
  -webkit-text-fill-color: var(--input-color);
  transition: background-color 9999s ease-in-out 0s;
  box-shadow:0 0 0 1000px var(--input-bg) inset;
}

/* Password toggle */
.pwd-wrap{ position:relative; }
.pwd-field{ position:relative; }
.pwd-field .input{ margin-bottom:10px; padding-right:92px; }
.toggle{
  position:absolute; right:10px; top:50%;
  transform: translateY(-50%);
  border:1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.18);
  color: rgba(15,23,42,.82);
  cursor:pointer;
  padding:7px 10px;
  font-size:12px;
  font-weight:950;
  border-radius:999px;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}
body:not(.theme-light) .toggle{
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.08);
  color: rgba(255,255,255,.84);
}
.toggle:hover{ filter: brightness(1.05); }
.toggle:active{ transform: translateY(-50%) translateY(1px); }
.toggle:focus-visible{ outline:none; box-shadow: 0 0 0 4px var(--focus-ring); }

/* Error */
.err{
  background: var(--err-bg);
  color: var(--err-color);
  border:1px solid var(--err-border);
  padding:10px 12px;
  border-radius: var(--radius-sm);
  font-size:12px;
  margin-bottom:12px;
  line-height:1.35;
}

/* Row */
.row{
  display:flex; align-items:center; justify-content:space-between;
  gap:8px;
  margin-top:6px;
  margin-bottom:12px;
}
.remember{
  display:flex; align-items:center; gap:8px;
  font-size:12px;
  color: var(--label-color);
  font-weight:800;
}
.link-muted{
  font-size:12px;
  color: var(--subtitle-color);
  text-decoration:none;
  opacity:.78;
  pointer-events:none;
}

/* Button */
.btn{
  width:100%;
  padding:12px 14px;
  border:0;
  border-radius: var(--radius-sm);
  color:#fff;
  font-weight:950;
  cursor:pointer;
  background-image: var(--btn-gradient);
  box-shadow: var(--btn-shadow);
  transition: transform .08s ease, filter .18s ease, box-shadow .18s ease;
}
.btn:hover{ filter: brightness(1.03) saturate(1.08); box-shadow: 0 22px 44px rgba(227,27,35,.25); }
.btn:active{ transform: translateY(1px); }
.btn[disabled]{ opacity:.65; cursor:not-allowed; box-shadow:none; }

.hint{
  font-size:12px;
  color: var(--text-muted);
  margin-top:10px;
  line-height:1.35;
}
.hint-caps{ margin-top:2px; }

/* Responsive */
@media (max-width: 900px){
  .shell{ grid-template-columns:1fr; width: min(560px, calc(100vw - 32px)); }
  .brand{ display:none; }
  .panel{ padding:24px; }
  .theme-switch{ top:12px; right:12px; }
}
@media (max-width: 420px){
  .panel{ padding:16px; }
  .card{ padding:20px; }
  .title{ font-size:22px; }
  .theme-btn{ padding:9px 10px; gap:8px; }
  .theme-btn .label{ display:none; } /* en móvil solo icono */
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  body{ animation:none; }
  body::before{ animation:none; }
  .btn,.input,.theme-btn{ transition:none; }
}
